<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>블로그 프로젝트 3일차 (Python, Django, Sqlite, Bootstrap) - 세진이의 개발노트</title><!-- Links--><link rel="canonical" href="https://jin9173.github.io/2019/12/21/project/blogProject/2019-12-20_blog_project_3"><!-- preload--><!-- Icons--><!-- open graph--><meta name="description" content="django-blog Repo    1. 장고 관리자   superuser 등록      1      $ (django-blog-env) ➜ django-blog&gt; .&#x2F;man">
<meta property="og:type" content="article">
<meta property="og:title" content="블로그 프로젝트 3일차 (Python, Django, Sqlite, Bootstrap)">
<meta property="og:url" content="https://jin9173.github.io/2019/12/21/project/blogProject/2019-12-20_blog_project_3/">
<meta property="og:site_name" content="세진이의 개발노트">
<meta property="og:description" content="django-blog Repo    1. 장고 관리자   superuser 등록      1      $ (django-blog-env) ➜ django-blog&gt; .&#x2F;man">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://user-images.githubusercontent.com/57488252/71222143-bc138200-2312-11ea-8f50-1ee96e036619.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/57488252/71222164-cafa3480-2312-11ea-9496-ce0fa4a0eae8.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/57488252/71222653-b4ed7380-2314-11ea-83af-5f31d55d58b5.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/57488252/71223563-b10f2080-2317-11ea-8d12-a0c075652486.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/57488252/71223666-119e5d80-2318-11ea-975a-d90cb81b9be8.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/57488252/71224528-334c1480-2319-11ea-9d4d-59484dafd092.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/57488252/71238842-6e197100-2348-11ea-9b9c-3737ebbaf295.png">
<meta property="article:published_time" content="2019-12-21T07:50:50.000Z">
<meta property="article:modified_time" content="2020-01-17T08:15:03.247Z">
<meta property="article:author" content="Sejin Kim">
<meta property="article:tag" content="파이썬 프로젝트">
<meta property="article:tag" content="장고 프레임워크">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://user-images.githubusercontent.com/57488252/71222143-bc138200-2312-11ea-8f50-1ee96e036619.png"><!-- verify website ownership--><!-- styles--><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/dracula.css"><!-- JSON LD for SEO--><script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "블로그 프로젝트 3일차 (Python, Django, Sqlite, Bootstrap)",
  "alternativeHeadline": null,
  "image": {
    "@type": "imageObject",
    "url": null,
    "width": null,
    "height": null
  },
  "genre": null,
  "keywords": "파이썬 프로젝트,장고 프레임워크",
  "editor": {
    "@type": "Person",
    "name": "Sejin Kim"
  },
  "publisher": {
    "@type": "Person",
    "name": "Sejin Kim"
  },
  "author": {
    "@type": "Person",
    "name": "Sejin Kim"
  },
  "url": "https://jin9173.github.io/2019/12/21/project/blogProject/2019-12-20_blog_project_3/",
  "dateCreated": "2019-12-21",
  "datePublished": "2019-12-21",
  "articleBody": "django-blog Repo    1. 장고 관리자   superuser 등록      1      $ (django-blog-env) ➜ django-blog&gt; ./man"
}</script><!--scripts--><meta name="generator" content="Hexo 4.2.0"></head><body class="post"><header class="header hero"><div class="hero-wrapper"><div class="gnb"><a href="/">세진이의 개발노트</a><button class="nav-toggle" type="button" aria-haspopup="true" aria-controls="navigation"><span></span><span></span><span></span>menu</button></div><h1 class="header__title">블로그 프로젝트 3일차 (Python, Django, Sqlite, Bootstrap)</h1></div></header><div class="contents--container" role="main"><article class="article"><div class="article__meta"><time class="article__meta__time" datetime="2019-12-21T07:50:50.000Z"><span aria-label="posted"><span class="fas fa-calendar-day" aria-hidden="true"></span></span>2019-12-21 16:50:50</time><div class="article__meta__category"><span aria-label="category"><span class="fas fa-archive" aria-hidden="true"></span></span><a class="article__meta__category__item" href="/categories/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/">프로젝트</a><a class="article__meta__category__item" href="/categories/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/%EC%9E%A5%EA%B3%A0-%EB%B8%94%EB%A1%9C%EA%B7%B8/">장고 블로그</a></div></div><div class="article__content"><p><a href="https://github.com/jin9173/django-blog" target="_blank" rel="noopener">django-blog Repo</a></p>
<h2 id="1-장고-관리자"><a href="#1-장고-관리자" class="headerlink" title="1. 장고 관리자"></a>1. 장고 관리자</h2><h4 id="superuser-등록"><a href="#superuser-등록" class="headerlink" title="superuser 등록"></a>superuser 등록</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ (django-blog-env) ➜ django-blog&gt; ./manage.py createsuperuser</span><br></pre></td></tr></table></figure>

<h4 id="admin-사이트-접속"><a href="#admin-사이트-접속" class="headerlink" title="admin 사이트 접속"></a>admin 사이트 접속</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 개발서버 실행 후 접속</span></span><br><span class="line">$ (django-blog-env) ➜ django-blog&gt; ./manage.py runserver</span><br></pre></td></tr></table></figure>

<p> <code>http://127.0.0.1:8000/admin</code> 으로 접속</p>
<p><img src="https://user-images.githubusercontent.com/57488252/71222143-bc138200-2312-11ea-8f50-1ee96e036619.png" alt="admin서버 로그인 화면"></p>
<p><img src="https://user-images.githubusercontent.com/57488252/71222164-cafa3480-2312-11ea-9496-ce0fa4a0eae8.png" alt="admin 서버 화면"></p>
<p>장고를 사용하여 웹사이트를 만들 경우, 매우 아름답게도 기본적인 구조를 갖춘 admin서버를 제공해준다. 하지만 큰 프로젝트일 경우 DB관리가 어려울 수 있기 때문에 비추천한다.</p>
<h4 id="관리자-화면을-한국어로-변경"><a href="#관리자-화면을-한국어로-변경" class="headerlink" title="관리자 화면을 한국어로 변경"></a>관리자 화면을 한국어로 변경</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># django-blog/config/settings.py</span></span><br><span class="line"></span><br><span class="line">LANGUAGE_CODE = <span class="string">'ko'</span></span><br></pre></td></tr></table></figure>

<h4 id="admin-py-코드-작성"><a href="#admin-py-코드-작성" class="headerlink" title="admin.py 코드 작성"></a>admin.py 코드 작성</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># blog/admin.py</span></span><br><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> blog.models <span class="keyword">import</span> Post</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@admin.register(Post)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostAdmin</span><span class="params">(admin.ModelAdmin)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>from django.conrib import admin</code></p>
<p>: 장고의 External Libraries 파일에 내장되어 있는 admin파일을 불러온다</p>
</li>
<li><p><code>from blog.models import Post</code></p>
<p>: <code>blog</code>파일 안의 <code>models.py</code>에 만들었던 <code>Post</code> 클래스 객체를 불러온다</p>
</li>
</ul>
<h5 id="Decorator"><a href="#Decorator" class="headerlink" title="@ Decorator"></a><code>@</code> Decorator</h5><p>: 하나의 함수를 취해서 또 다른 함수를 반환하는 함수이다. 위의 코드에서는 <code>admin.site.register(Post)</code>를 데코레이터로 작성해 놓았다. 실행 순서는 class에서 가장 가까운 순서부터 실행한다. </p>
<p><img src="https://user-images.githubusercontent.com/57488252/71222653-b4ed7380-2314-11ea-83af-5f31d55d58b5.png" alt="Post객체가 추가된 모습"></p>
<h4 id="post-데이터-추가하기"><a href="#post-데이터-추가하기" class="headerlink" title="post 데이터 추가하기"></a>post 데이터 추가하기</h4><p><img src="https://user-images.githubusercontent.com/57488252/71223563-b10f2080-2317-11ea-8d12-a0c075652486.png" alt=""></p>
<h3 id="이전에-정의한-Post객체-코드와-비교해보자"><a href="#이전에-정의한-Post객체-코드와-비교해보자" class="headerlink" title="이전에 정의한 Post객체 코드와 비교해보자"></a>이전에 정의한 <code>Post</code>객체 코드와 비교해보자</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> django.utils <span class="keyword">import</span> timezone</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Post</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">   author = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)</span><br><span class="line">   title = models.CharField(max_length=<span class="number">200</span>)</span><br><span class="line">   text = models.TextField(blank=<span class="literal">True</span>)</span><br><span class="line">   created_date = models.DateTimeField(default=timezone.now)</span><br><span class="line">   published_date = models.DateTimeField(blank=<span class="literal">True</span>, null=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> self.title</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">publish</span><span class="params">(self)</span>:</span></span><br><span class="line">       self.published_date = timezone.now()</span><br><span class="line">       self.save()</span><br></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/57488252/71223666-119e5d80-2318-11ea-975a-d90cb81b9be8.png" alt="DB 브라우저에도 추가한 Post 데이터가 올라간 모습"></p>
<p>장고 관리자 사이트에서 수동으로 Post 데이터를 추가하였다. DB에도 제대로 올라간 모습이 보인다.</p>
<p>기존에 코드를 작성할 때 <code>published_date</code> 값은 <code>null</code>값을 허용했다(<code>null=True</code>). 즉, 해당 값을 입력하지 않아도 데이터베이스는 생성될 수 있다. 하지만 <code>published_date</code>를 제외한 나머지 값에는 <code>null</code>값을 허용하지 않았기 때문에 값을 입력하지 않으면 데이터베이스에 추가될 수 없고 저장될 수 없다. </p>
<p><img src="https://user-images.githubusercontent.com/57488252/71224528-334c1480-2319-11ea-9d4d-59484dafd092.png" alt=""></p>
<h2 id="2-장고-urls"><a href="#2-장고-urls" class="headerlink" title="2. 장고 urls"></a>2. 장고 urls</h2><p>외부에서 서버로부터 요청이 왔을 때 그 요청은 url로 구분된다. 예를 들어, <code>naver.com</code>으로 요청이 왔을 때 <code>index.html</code>을 보여주거나, <code>naver.com/search?</code>로 왔을 때 뒤에 있는 query값을 보여주는 것으로 설명할 수 있다. </p>
<p>서버 입장에서는 외부에서 요청이 왔을 때 사용자의 요청을 구분할 수 있는 방법은 <strong>url방식</strong>과 <strong>http 요청에 따로 데이터를 담아 보내는 방식</strong>으로 나뉠 수 있다. 장고는 url방식으로 요청을 구분해준다. </p>
<h4 id="장고-urls-설정"><a href="#장고-urls-설정" class="headerlink" title="장고 urls 설정"></a>장고 urls 설정</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># django-blog/config/urls.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'admin/'</span>, admin.site.urls),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>해당 기본 url설정은 장고에서 제공하는 admin 애플리케이션으로 가는 경로를 정의하고 있다. </p>
<p><code>path(&#39;admin/&#39;, admin.site.urls)</code>에서 <code>urls</code>를 클릭해서 내장되어 있는 장고의 url코드를 훑어보자. (<code>command</code> + click)</p>
<h5 id="URLResolver"><a href="#URLResolver" class="headerlink" title="URLResolver"></a>URLResolver</h5><p>: URLResolver의 역할은 장고의 <code>urls.py</code>에서 정의되며 이는 외부에서 온 요청의 URL을 판단해서 특정 Controller(장고의 View함수)로 연결한다. </p>
<h5 id="개발단계에서의-request와-response"><a href="#개발단계에서의-request와-response" class="headerlink" title="개발단계에서의 request와 response"></a>개발단계에서의 request와 response</h5><p><code>request -&gt; runserver -&gt; urls.py -&gt; view function -&gt; response</code></p>
<ol>
<li>외부에서 요청(<code>request</code>)이오면 이 <code>request</code>는 <code>runserver</code>로 전달이 된다. </li>
<li>전달 받은 이 <code>request</code>는 <code>urls.py</code>가 분석해준다.</li>
<li>이 때 <code>urls.py</code>는 특정 <code>view함수</code>로 분석된 request를 넘겨준다.</li>
<li>들어온 요청은 <code>urls.py</code>에서 어디로 응답할지 판단한다. </li>
<li>판단해서 넘겨준 <code>view function</code>은 응답을 돌려준다. </li>
<li>그 응답은 <code>runserver</code>를 통해 <code>request</code> 자리로 돌아가서 응답된다. </li>
</ol>
<h4 id="장고-MTV-디자인-패턴을-따른-필요한-코드-구현-흐름"><a href="#장고-MTV-디자인-패턴을-따른-필요한-코드-구현-흐름" class="headerlink" title="장고 MTV 디자인 패턴을 따른 필요한 코드 구현 흐름"></a>장고 MTV 디자인 패턴을 따른 필요한 코드 구현 흐름</h4><p>(<a href="https://jin9173.github.io/2019/12/20/etc/designPattern/">장고의 MTV 디자인 패턴 참고 자료</a>)</p>
<p>하나의 페이지를 만들 때 </p>
<ol>
<li><p><code>urls.py</code></p>
<p>: <code>urls.py</code>에 어떤 식으로 요청이 왔을 때 어떻게 넘겨줄 것인지에 대한 url을 만들어주어야 한다. </p>
</li>
<li><p><code>views.py</code></p>
<p>: 그 요청을 처리할 Controller를 만들어주어야 하는데 장고에서 Controller는 View이다. </p>
</li>
<li><p><code>models.py</code></p>
<p>: 그 Controller가 데이터베이스를 가져와야 하기 때문에 <code>models.py</code>도 구현이 되어있어야 한다.</p>
</li>
<li><p>그 다음에 Controller는 사용자에게 UI(View)로 html파일로 응답해주어야 한다.</p>
</li>
</ol>
<h2 id="3-사용자가-보는-화면-제어하기"><a href="#3-사용자가-보는-화면-제어하기" class="headerlink" title="3. 사용자가 보는 화면 제어하기"></a>3. 사용자가 보는 화면 제어하기</h2><h5 id="‘Post-List-’라고-화면에-출력해보기"><a href="#‘Post-List-’라고-화면에-출력해보기" class="headerlink" title="‘Post List!’라고 화면에 출력해보기"></a>‘Post List!’라고 화면에 출력해보기</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># django-blog/blog/views.py</span></span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">post_list</span><span class="params">(request)</span>:</span></span><br><span class="line">  <span class="keyword">return</span> HttpResponse(<span class="string">'Post List!'</span>)</span><br></pre></td></tr></table></figure>

<p><code>views.py</code>에 <code>HttpResponse</code> 함수를 사용하여 문자열 ‘Post List!’를 UI에 출력한다. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># django-blog/config/urls.py</span></span><br><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> blog.views <span class="keyword">import</span> post_list</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'admin/'</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">'post-list/'</span>, post_list)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><code>urls.py</code>에 <code>post-list</code>라는 URL에 온 요청을 <code>blog.views.post_list</code>함수가 처리할 수 있게 코드를 작성한다.</p>
<p><span style="color: teal; font-size: 13px"><code>path</code>의 첫번째 인자인 <code>&#39;post-list/&#39;</code>는 url 주소를 의미하고 두번째 인자인 <code>post_list</code>는 <code>views.py</code>에서 생성한 함수를 의미한다. </span></p>
<p><img src="https://user-images.githubusercontent.com/57488252/71238842-6e197100-2348-11ea-9b9c-3737ebbaf295.png" alt="해당 문자열이 출력된 사용자 UI 모습"></p>
<h4 id="Template-활용하기"><a href="#Template-활용하기" class="headerlink" title="Template 활용하기"></a>Template 활용하기</h4><h5 id="파일구조"><a href="#파일구조" class="headerlink" title="파일구조"></a>파일구조</h5><p>HttpResponse`함수 안에 HTML 코드를 넣어 화면에 뿌려줄 수도 있지만 이는 작업하기에 매우 비효율적이고 가독성도 좋지 않을 것이다. 그러므로 MTV의 T인 template을 활용해보자.</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 파일구조</span></span><br><span class="line">django-blog</span><br><span class="line">	blog</span><br><span class="line">		migrations</span><br><span class="line">	config</span><br><span class="line">	templates</span><br><span class="line">		post_list.html</span><br></pre></td></tr></table></figure>

<h5 id="HTML-작성"><a href="#HTML-작성" class="headerlink" title="HTML 작성"></a>HTML 작성</h5><p><span style="color: teal"><code>html:5</code> + <code>tab</code> 을 하면 pycharm에서 HTML 템플릿 자동 생성<br><code>lorem30</code> + <code>tab</code>은 더미 문자열 생성</span></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- django-blog/templates/post_list.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"ko"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">content</span>=<span class="string">"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Post List!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>published: 12.11.2019, 14:38<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>My First Post<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci cum delectus deserunt eaque facere harum illum, in mollitia nam officiis perspiciatis praesentium repellat repudiandae vitae voluptatibus? Dolorem obcaecati soluta veritatis.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>published: 12.11.2019, 14:39<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>My Second Post<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci cum delectus deserunt eaque facere harum illum, in mollitia nam officiis perspiciatis praesentium repellat repudiandae vitae voluptatibus? Dolorem obcaecati soluta veritatis.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="파일-경로-설정"><a href="#파일-경로-설정" class="headerlink" title="파일 경로 설정"></a>파일 경로 설정</h5><p>(<a href="https://devanix.tistory.com/298" target="_blank" rel="noopener">os.path 메서드 참고 자료</a>)</p>
<p>(<a href="https://wikidocs.net/16077" target="_blank" rel="noopener">시스템 메서드 참고자료</a>)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># django-blog/blog/views.py</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">post_list</span><span class="params">(request)</span>:</span></span><br><span class="line">    cur_file_path = os.path.abspath(__file__)</span><br><span class="line">    blog_dir_path = os.path.dirname(cur_file_path)</span><br><span class="line">    root_dir_path = os.path.dirname(blog_dir_path)</span><br><span class="line">    templates_dir_path = os.path.join(root_dir_path, <span class="string">'templates'</span>)</span><br><span class="line">    post_list_html_path = os.path.join(templates_dir_path, <span class="string">'post_list.html'</span>)</span><br><span class="line"></span><br><span class="line">    f = open(post_list_html_path, <span class="string">'rt'</span>)</span><br><span class="line">    html = f.read()</span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(html)</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>os.path.abspath(__file__)</code>: 현재 위치하고 있는 파일 경로를 보여준다. 현재는 <code>views.py</code>에서 작업하고 있기 때문에 현재 위치는 <code>views.py</code>이다.</p>
<ul>
<li><code>cur_file_path</code>는 <code>/Users/kimsejin/jin9173/django-blog/blog/views.py</code>이다. </li>
</ul>
</li>
<li><p><code>os.path.dirname()</code>: 상위로 파일 경로를 올라간다. </p>
<ul>
<li><code>blog_dir_path</code>는 <code>cur_file_path</code>에서 한단계 상위로 올라간 경로인 <code>/Users/kimsejin/jin9173/django-blog/blog</code> 를 가리킨다.</li>
<li><code>root_dir_path</code>는 <code>blog_dir_path</code>에서 한단계 상위로 올라간 경로인 <code>/Users/kimsejin/jin9173/django-blog</code>를 가리킨다.</li>
</ul>
</li>
<li><p><code>os.path.join(기준점, 내려갈 파일이나 폴더이름)</code>: 하위로 파일 경로를 내려간다.</p>
<ul>
<li><code>templates_dir_path</code>는 <code>root_dir_path</code>에서 한단계 하위로 내려간 경로인 <code>/Users/kimsejin/jin9173/django-blog/templates</code>를 가리킨다.</li>
<li><code>post_list_html_path</code>는 <code>templates_dir_path</code>에서 한단계 하위로 내려간 경로인 <code>/Users/kimsejin/jin9173/django-blog/templates/post_list.html</code>를 가리킨다. </li>
</ul>
</li>
<li><p><code>f = open(post_list_html_path, &#39;rt&#39;)</code></p>
<p>: <code>f</code>라는 변수에 시스템 메서드인 <code>open</code>을 사용하여 <code>post_list_html_path</code> 안에 있는 <code>post_list.html</code>파일을 텍스트 형식으로 읽도록 허용한다. </p>
</li>
<li><p><code>html = f.read()</code>, <code>f.close()</code></p>
<p>: <code>f</code> 변수 안에 있는 텍스트 형식으로 읽도록 허용한 <code>post_list.html</code>을 읽어 <code>html</code>이라는 변수에 넣고 해당 상태를 저장(<code>f.close()</code>)한다. </p>
</li>
<li><p><code>return HttpResponse(html)</code></p>
<p>: <code>HttpResponse</code> 함수를 사용하여 <code>html</code>을 화면에 뿌린다. </p>
</li>
</ul>
<p><span style="color: teal">방금까지 한 방식은 <code>templates/post_list.html</code>을 추가하고, 해당 내용 <code>post_list</code>를 <code>view</code>에서 돌려주도록 한 것이다. </span></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># django-blog/config/settings.py</span></span><br><span class="line">BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))</span><br><span class="line">print(BASE_DIR)</span><br></pre></td></tr></table></figure>

<p>기본적으로 경로설정이 되어있는 <code>BASE_DIR</code>을 출력해보면(<code>runserver</code>를 할 때마다 출력됨), <code>/Users/kimsejin/jin9173/django-blog</code> 가 출력된다. 즉, <code>BASE_DIR</code>은 최상위 root폴더로 경로설정되어 있다. <span style="color: teal">즉, <code>BASE_DIR</code>를 기준으로 아래와 같이 <code>templates</code> 디렉토리의 경로설정을 해주어야 한다.</span></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># django-blog/config/settings.py</span></span><br><span class="line">BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))</span><br><span class="line">TEMPLATES_DIR = os.path.join(BASE_DIR, <span class="string">'templates'</span>)</span><br></pre></td></tr></table></figure>

<p>그리고 Django에게 기본 설정 외에 <code>templates</code>에 들어있는 파일들을 찾을 경로 목록을 지정해준다. (<code>django-blog/templates</code> 폴더 추가)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># django-blog/config/settings.py</span></span><br><span class="line">TEMPLATES = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">'BACKEND'</span>: <span class="string">'django.template.backends.django.DjangoTemplates'</span>,</span><br><span class="line">        <span class="string">'DIRS'</span>: [</span><br><span class="line">            TEMPLATES_DIR,</span><br><span class="line">        ],</span><br><span class="line">        <span class="string">'APP_DIRS'</span>: <span class="literal">True</span>,</span><br><span class="line">        <span class="string">'OPTIONS'</span>: &#123;</span><br><span class="line">            <span class="string">'context_processors'</span>: [</span><br><span class="line">                <span class="string">'django.template.context_processors.debug'</span>,</span><br><span class="line">                <span class="string">'django.template.context_processors.request'</span>,</span><br><span class="line">                <span class="string">'django.contrib.auth.context_processors.auth'</span>,</span><br><span class="line">                <span class="string">'django.contrib.messages.context_processors.messages'</span>,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h5 id="장고의-Help함수를-사용해서-간결하게-표현하기"><a href="#장고의-Help함수를-사용해서-간결하게-표현하기" class="headerlink" title="장고의 Help함수를 사용해서 간결하게 표현하기"></a><span style="color: red">장고의 Help함수를 사용해서 간결하게 표현하기</span></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 장고의 shortcut함수인 render함수 사용</span></span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">post_list</span><span class="params">(request)</span>:</span></span><br><span class="line">  <span class="keyword">return</span> render(request, <span class="string">'post_list.html'</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 장고의 render함수를 사용하지 않고 python에 내장되어 있는 render함수를 사용하여 코딩할 때</span></span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">post_list</span><span class="params">(request)</span>:</span></span><br><span class="line">  template = loader.get_template(<span class="string">'post_list.html'</span>)</span><br><span class="line">  html = template.render()</span><br><span class="line">  <span class="keyword">return</span> HttpResponse(html)</span><br></pre></td></tr></table></figure>

<p><strong><code>render함수</code></strong>: 이 함수는 장고의 shorcut함수로써  <code>Template</code>을 찾을 경로에서 <code>post_list.html</code>을 찾아 그 파일을 text로 만든 후 <code>HttpResponse</code>형태로 돌려주어 브라우저에 그려준다. </p>
</div><div class="article__tags"><div class="article__tags__title">tags:</div><a class="article__tag__item" href="/tags/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/"><span class="fas fa-tag" aria-hidden="true"></span>파이썬 프로젝트</a><a class="article__tag__item" href="/tags/%EC%9E%A5%EA%B3%A0-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC/"><span class="fas fa-tag" aria-hidden="true"></span>장고 프레임워크</a></div></article><div class="comment__container" role="region" aria-label="comments"></div></div><footer class="footer"><p class="credit">Powered by  <a href="https://hexo.io/" rel="external noreferrer" target="_blank">Hexo</a>. Theme by  <a href="https://github.com/mulder21c" rel="external noreferrer" target="_blank">Sejin Kim</a></p></footer><div class="nav" aria-hidden="true"><nav class="nav--container" id="navigation" aria-labelledby="nav__heading"><h2 class="nav__heading" id="nav__heading">Navigation</h2><hr class="nav__seperator"><ul class="menu-list">
    <li class="menu-item" >
      <a href="/" >
        home
      </a>
    </li>
    <li class="menu-item" >
      <a href="/archives" >
        archives
      </a>
    </li></ul><hr class="nav__seperator"><h3 class="nav__heading--sub">Categories</h3><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/Python/">Python</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Study/">Study</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Study/Python/">Python</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/etc/">etc</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%EA%B3%B5%EB%B6%80/">공부</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%EA%B3%B5%EB%B6%80/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/">디자인 패턴</a></li></ul></li><li class="category-list-item"><a class="category-list-link current" href="/categories/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/">프로젝트</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/%EC%9E%A5%EA%B3%A0-%EB%B6%81%EB%A7%88%ED%81%AC-%EC%95%B1/">장고 북마크 앱</a></li><li class="category-list-item"><a class="category-list-link current" href="/categories/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/%EC%9E%A5%EA%B3%A0-%EB%B8%94%EB%A1%9C%EA%B7%B8/">장고 블로그</a></li></ul></li></ul></nav></div><script src="/js/webfontloader.js"></script><script>WebFont.load({
  custom: {
    families: ["Noto Sans KR", "Font Awesome"],
    urls: ["/fonts/notosanskr/NotoSansKR.css", "/fonts/fontawesome/fontawesome.css"]
  }
});</script><script src="/js/script.js"></script></body></html>